# CISC-16-A オペレーティングシステム

CISC-16-Aコンピュータアーキテクチャ向けの16ビットオペレーティングシステム実装。

## 概要

このプロジェクトは、CISC-16-Aハードウェア向けのミニマルかつ完全に機能的なオペレーティングシステムを実装します。モジュラーアーキテクチャで設計され、デバッグとシステム管理に必要な機能を提供します。FPGAの勉強としてCPUの自作を行っているため、そこで動作をする16bitOSが必要になりこちらを用意しました。最終目標は動画を再生できるようになることです。

## 主な特徴

- **モジュラーアーキテクチャ**: 保守性と拡張性を重視した設計
- **包括的コマンドセット**: メモリ操作、表示、実行機能
- **エラーハンドリング**: 統一されたエラー処理システム
- **シンプルUI**: 使いやすく理解しやすいインターフェース
- **直接ハードウェアアクセス**: VGA、PS/2キーボード対応

## システム要件

### ハードウェア
- **CISC-16-A 16ビットプロセッサ**
- **32KB RAM** (0000h-7FFFh)
- **VGAテキストモード** (8000h-8FFFh, 80×30文字)
- **PS/2キーボード** (F000h-F001h)

### メモリマップ
```
0000h-7FFFh: RAM (32KB)
8000h-8FFFh: VGA VRAM (4KB)
F000h-F001h: PS/2キーボード
FE00h-FFFFh: システム領域
```

## コマンドインタフェース

### 利用可能コマンド
| コマンド | 使用法 | 説明 |
|---------|-------|-----|
| `help` | `help` | コマンド一覧表示 |
| `clear` | `clear` | 画面クリア |
| `peek` | `peek <addr>` | メモリバイト読み取り |
| `poke` | `poke <addr> <val>` | メモリバイト書き込み |
| `dump` | `dump <addr>` | 128バイトメモリ表示 |
| `fill` | `fill <addr> <count> <val>` | メモリ範囲フィル |
| `copy` | `copy <src> <dst> <count>` | メモリブロックコピー |
| `run` | `run <addr>` | 指定アドレスのコード実行 |

### 使用例
```
> help              # コマンド一覧表示
help clear peek poke dump fill copy run

> peek 8000         # VRAM開始位置読み取り
20                  # スペース文字を返す

> poke 8000 41      # 'A'を画面に書き込み
                    # (成功時は出力なし)

> run 1000          # ユーザーコード実行
                    # アドレス1000hにジャンプ
```

## ビルド手順

### 前提条件
```bash
sudo apt-get install nasm
```

### ビルド実行
```bash
# ビルド
make

# テスト実行
./test.sh
```

## ライセンス

本OSは教育・研究目的で作成されています。自由に改変・配布可能です。